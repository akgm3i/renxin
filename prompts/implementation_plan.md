# RENXIN 実装計画兼タスク管理

*このドキュメントは実装計画であり、タスク管理も兼ねています。作業を進める際は、該当タスクにチェックを入れてください。*

## 全体進捗

- [x] フェーズ 1: プロジェクトのセットアップと基盤構築
- [ ] フェーズ 2: CoreロジックとIPCの実装 (バックエンド)
- [ ] フェーズ 3: UIの骨格と画面フローの構築 (フロントエンド)
- [ ] フェーズ 4: 主要機能の結合と詳細実装 (フルスタック)
- [ ] フェーズ 5: ネットワーク機能と最終仕上げ

---

### フェーズ 1: プロジェクトのセットアップと基盤構築

- [x] **Tauriプロジェクトの初期化**
    - **内容**: TypeScript（React/Vite）とRustを組み合わせたTauriプロジェクトを作成します。
    - **参照**: `spec.md`, `components.md`
    - **進捗**: 完了。
- [x] **設定管理機能の実装 (Coreプロセス)**
    - **内容**: `config.toml` ファイルを読み書きする機能を実装します。
    - **参照**: `other.md`
    - **進捗**: 完了。
- [x] **ロギング機能の実装 (Coreプロセス)**
    - **内容**: `log` クレート等を活用し、指定されたフォーマットでファイルにログを出力する機能を実装します。
    - **参照**: `other.md`
    - **進捗**: 完了。
- [x] **データベース基盤の構築 (Coreプロセス)**
    - **内容**: `rusqlite` を用いてSQLiteデータベースへの接続とテーブル作成を行う初期化処理を実装します。
    - **参照**: `data.md`
    - **進捗**: 完了。

---

### フェーズ 2: CoreロジックとIPCの実装 (バックエンド)

- [ ] **データモデルとCRUD操作の実装**
    - **内容**: `data.md` のスキーマに対応するRustの `struct` を定義し、各テーブルのCRUD操作を実装します。
    - **参照**: `data.md`
    - **進捗**: 未着手。
- [ ] **主要なゲームロジックの実装**
    - **内容**: 01ゲームとCricketのスコア計算、ラウンド進行などのコアロジックを実装します。
    - **参照**: `spec.md`, `components.md`
    - **進捗**: 未着手。
- [ ] **IPCコマンドの公開**
    - **内容**: `create_game`, `record_throw` など、UIから必要とされる関数をTauriのコマンドとして公開します。
    - **参照**: `data.md`
    - **進捗**: 未着手。

---

### フェーズ 3: UIの骨格と画面フローの構築 (フロントエンド)

- [ ] **UIデザインシステムのセットアップ**
    - **内容**: React等のフレームワークで、共通のCSS変数やUIコンポーネントの基礎を構築します。
    - **参照**: `about.md`, `uiux.md`
    - **進捗**: 未着手。
- [ ] **主要画面コンポーネントの作成**
    - **内容**: ワイヤーフレームで定義された各画面のコンポーネントを空の状態で作成します。
    - **参照**: `uiux.md`
    - **進捗**: 未着手。
- [ ] **画面遷移（ルーティング）の実装**
    - **内容**: `react-router-dom` 等を使用し、画面遷移フローを実装します。
    - **参照**: `uiux.md`
    - **進捗**: 未着手。

---

### フェーズ 4: 主要機能の結合と詳細実装 (フルスタック)

- [ ] **プレイヤー管理機能**
    - **内容**: UIとIPCを連携させ、プレイヤーの作成・一覧表示・選択機能を実装します。
    - **参照**: `uiux.md`, `data.md`
    - **進捗**: 未着手。
- [ ] **ゲームプレイ機能**
    - **内容**: ダーツボードUIからの入力受付、スコア計算、状態更新、UNDO機能を実装します。
    - **参照**: `uiux.md`, `components.md`
    - **進捗**: 未着手。
- [ ] **カメラ連携と動画再生機能**
    - **内容**: Coreでのカメラ制御・録画、UIでの動画再生とコントロールを実装します。
    - **参照**: `spec.md`, `uiux.md`
    - **進捗**: 未着手。
- [ ] **統計データ表示機能**
    - **内容**: Coreでの統計計算ロジックと、UIでのグラフ・リストによる可視化を実装します。
    - **参照**: `spec.md`, `uiux.md`
    - **進捗**: 未着手。

---

### フェーズ 5: ネットワーク機能と最終仕上げ

- [ ] **RPCサーバーと閲覧用クライアントの実装**
    - **内容**: CoreプロセスにWebSocketベースのRPCサーバーを実装し、閲覧用Webページを作成します。
    - **参照**: `data.md`, `components.md`
    - **進捗**: 未着手。
- [ ] **エラーハンドリングと設定画面の完成**
    - **内容**: エッジケースに対応するUIを実装し、設定画面を完成させます。
    - **参照**: `other.md`
    - **進捗**: 未着手。
- [ ] **総合テストとビルド**
    - **内容**: 単体・結合・E2Eテストを実施し、Windows/Ubuntu向けのインストーラーを生成します。
    - **参照**: `spec.md`
    - **進捗**: 未着手。
